{"ast":null,"code":"import _defineProperty from\"/Users/danielcr/Documents/GitHub/Biossay/GstFront/biossay-webapp/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/danielcr/Documents/GitHub/Biossay/GstFront/biossay-webapp/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/danielcr/Documents/GitHub/Biossay/GstFront/biossay-webapp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Dialog,DialogTitle,FormControl,DialogContent,TextField,DialogActions,Button,Select,MenuItem}from\"@material-ui/core\";import{getRUC,saveClientServer,getClientById,getRUCSunat}from\"../../../services/api/ClientService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModalCustomer=function ModalCustomer(props){var isOpen=props.isOpen,handleClose=props.handleClose,customerId=props.customerId;var _useState=useState({Id:0,CustomerName:'',CustomerAddress:'',RUCClient:'',CategoryId:0}),_useState2=_slicedToArray(_useState,2),customer=_useState2[0],setCustomer=_useState2[1];useEffect(function(){if(customerId>0){getCustomerById(customerId);}else{setCustomer({});}},[customerId]);var getCustomerById=function getCustomerById(customerId){getClientById(customerId).then(function(response){setCustomer(function(last){return _objectSpread(_objectSpread({},last),{},{Id:response.data.id,CustomerName:response.data.customerName,CustomerAddress:response.data.customerAddress,RUCClient:response.data.rucClient,CategoryId:response.data.categoryId});});});};var onChangeRUC=function onChangeRUC(e){var value=e.target.value;getRUC(value).then(function(response){var data=response.data;if(data.id===0){getRUCSunat(value).then(function(response){setCustomer(function(last){return _objectSpread(_objectSpread({},last),{},{CustomerName:response.data.nombre_o_razon_social,CustomerAddress:response.data.direccion_completa});});});}else{setCustomer(function(last){return _objectSpread(_objectSpread({},last),{},{Id:response.data.id,CustomerName:response.data.customerName,CustomerAddress:response.data.customerAddress,RUCClient:response.data.rucClient,CategoryId:response.data.categoryId});});}});};var onChangeCustomer=function onChangeCustomer(e){setCustomer(_objectSpread(_objectSpread({},customer),{},_defineProperty({},e.target.name,e.target.value)));};var saveCustomerServer=function saveCustomerServer(){saveClientServer(customer).then(function(response){console.log(response);handleClose();});};return/*#__PURE__*/_jsxs(Dialog,{open:isOpen,onClose:handleClose,\"aria-labelledby\":\"form-dialog-title\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"form-dialog-title\",children:\"Modelo\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(TextField,{margin:\"dense\",name:\"RUCClient\",label:\"RUC\",type:\"text\",value:customer.RUCClient||'',onBlur:onChangeRUC,onChange:onChangeCustomer,fullWidth:true}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",name:\"CustomerName\",label:\"Nombre\",type:\"text\",value:customer.CustomerName||'',onChange:onChangeCustomer,fullWidth:true}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",name:\"CustomerAddress\",value:customer.CustomerAddress||'',label:\"Direcci\\xF3n\",onChange:onChangeCustomer,type:\"text\",fullWidth:true}),/*#__PURE__*/_jsx(FormControl,{style:{marginTop:15},fullWidth:true,variant:\"standard\",children:/*#__PURE__*/_jsxs(Select,{fullWidth:true,name:\"CategoryId\",value:customer.CategoryId||0,label:\"Categoria\",onChange:onChangeCustomer,children:[/*#__PURE__*/_jsx(MenuItem,{value:0,children:/*#__PURE__*/_jsx(\"em\",{children:\"Seleccione una categoria \"})}),/*#__PURE__*/_jsx(MenuItem,{value:1,children:\"SIN CATEGORIA\"}),/*#__PURE__*/_jsx(MenuItem,{value:2,children:\"BRONZE\"}),/*#__PURE__*/_jsx(MenuItem,{value:3,children:\"SILVER\"}),/*#__PURE__*/_jsx(MenuItem,{value:4,children:\"GOLD\"}),/*#__PURE__*/_jsx(MenuItem,{value:5,children:\"PLATINUM\"}),/*#__PURE__*/_jsx(MenuItem,{value:6,children:\"DIAMOND\"})]})})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"primary\",children:\"Salir\"}),/*#__PURE__*/_jsx(Button,{onClick:saveCustomerServer,color:\"primary\",children:\"Guardar\"})]})]});};export default ModalCustomer;","map":{"version":3,"sources":["/Users/danielcr/Documents/GitHub/Biossay/GstFront/biossay-webapp/src/components/customers/components/modalCustomer.js"],"names":["React","useState","useEffect","Dialog","DialogTitle","FormControl","DialogContent","TextField","DialogActions","Button","Select","MenuItem","getRUC","saveClientServer","getClientById","getRUCSunat","ModalCustomer","props","isOpen","handleClose","customerId","Id","CustomerName","CustomerAddress","RUCClient","CategoryId","customer","setCustomer","getCustomerById","then","response","last","data","id","customerName","customerAddress","rucClient","categoryId","onChangeRUC","e","value","target","nombre_o_razon_social","direccion_completa","onChangeCustomer","name","saveCustomerServer","console","log","marginTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {Dialog,DialogTitle,FormControl,DialogContent,TextField,DialogActions,Button,Select,MenuItem} from \"@material-ui/core\";\nimport { getRUC,saveClientServer,getClientById,getRUCSunat } from \"../../../services/api/ClientService\";\n\nconst ModalCustomer = (props)=>{\nconst { isOpen, handleClose,customerId } = props;\n\nconst [customer, setCustomer] = useState({\n    Id:0,\n    CustomerName:'',\n    CustomerAddress:'',\n    RUCClient:'',\n    CategoryId:0\n});\n\nuseEffect(() => {\n    if(customerId > 0){\n        getCustomerById(customerId);\n    }else{\n        setCustomer({});\n    }\n}, [customerId])\n\nconst getCustomerById=(customerId)=>{\n    getClientById(customerId).then(response =>{\n        setCustomer((last)=>({\n            ...last,\n            Id:response.data.id,\n            CustomerName: response.data.customerName,\n            CustomerAddress: response.data.customerAddress,\n            RUCClient: response.data.rucClient,\n            CategoryId: response.data.categoryId\n        })\n    )})\n};\n\nconst onChangeRUC = (e)=>{\n    let value = e.target.value;\n    getRUC(value).then(response =>{\n        const { data } = response;\n        if(data.id === 0){\n            getRUCSunat(value).then(response =>{\n                setCustomer((last)=>({\n                    ...last,\n                    CustomerName : response.data.nombre_o_razon_social,\n                    CustomerAddress : response.data.direccion_completa,\n                }),  \n                )\n            })\n        }else{\n            setCustomer((last)=>({\n                ...last,\n                Id:response.data.id,\n                CustomerName: response.data.customerName,\n                CustomerAddress: response.data.customerAddress,\n                RUCClient: response.data.rucClient,\n                CategoryId: response.data.categoryId\n            }))\n        }\n \n    });\n}\n\nconst onChangeCustomer = (e)=>{\n    setCustomer({ ...customer, [e.target.name]: e.target.value });\n}\n\nconst saveCustomerServer =()=>{\n    saveClientServer(customer).then(response =>{\n        console.log(response);\n\n        handleClose();\n    });\n}\n    return(\n        <Dialog open={isOpen} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Modelo</DialogTitle>\n        <DialogContent>\n            <TextField\n                    \n                    margin=\"dense\"\n                    name=\"RUCClient\"\n                    label=\"RUC\"\n                    type=\"text\"\n                    value={customer.RUCClient || ''}\n                    onBlur={onChangeRUC}\n                    onChange={onChangeCustomer}\n                    fullWidth\n                    />\n                <TextField\n                    autoFocus\n                    margin=\"dense\"\n                    name=\"CustomerName\"\n                    label=\"Nombre\"\n                    type=\"text\"\n                    value={customer.CustomerName || ''}\n                    onChange={onChangeCustomer}\n                    fullWidth\n                    />\n                  <TextField\n                    autoFocus\n                    margin=\"dense\"\n                    name=\"CustomerAddress\"\n                    value={customer.CustomerAddress || ''}\n                    label=\"DirecciÃ³n\"\n                    onChange={onChangeCustomer}\n                    type=\"text\"\n                    fullWidth\n                    />\n              <FormControl style={{marginTop:15}} fullWidth variant=\"standard\"  > \n                                <Select\n                                fullWidth\n                                name=\"CategoryId\"\n                                value={customer.CategoryId || 0}\n                                label=\"Categoria\"\n                                onChange={onChangeCustomer}\n                                >\n                                <MenuItem value={0}>\n                                    <em>Seleccione una categoria </em>\n                                </MenuItem>\n                                \n                                <MenuItem value={1}>SIN CATEGORIA</MenuItem>\n                                <MenuItem value={2}>BRONZE</MenuItem>\n                                <MenuItem value={3}>SILVER</MenuItem>\n                                <MenuItem value={4}>GOLD</MenuItem>\n                                <MenuItem value={5}>PLATINUM</MenuItem>\n                                <MenuItem value={6}>DIAMOND</MenuItem>\n                            \n                                </Select>\n                            \n                            </FormControl>\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={handleClose} color=\"primary\">\n            Salir\n            </Button>\n            <Button onClick={saveCustomerServer}  color=\"primary\">\n            Guardar\n            </Button>\n        </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default ModalCustomer;"]},"metadata":{},"sourceType":"module"}