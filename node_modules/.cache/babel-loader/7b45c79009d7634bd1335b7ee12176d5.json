{"ast":null,"code":"import _defineProperty from\"/Users/danielcr/Documents/GitHub/Biossay/GstFront/biossay-webapp/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/danielcr/Documents/GitHub/Biossay/GstFront/biossay-webapp/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/danielcr/Documents/GitHub/Biossay/GstFront/biossay-webapp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Container,Grid,CardMedia,Typography,TextField,Button,Select,FormControl,MenuItem}from\"@material-ui/core\";import logoicon from'../logoicon.jpeg';import TableDemand from'./components/tableDemand';import{getClientById,getRUC}from\"../../services/api/ClientService\";import{getEmployeeByType}from\"../../services/api/LoginService\";import{saveRequestDocument,GetRequestsDocumentById,GetCorrelative}from\"../../services/api/Demandservice\";import{getCompanyById}from\"../../services/api/CompanyService\";import{withRouter}from'react-router-dom';import{useStateValue}from'../../context/store';import swal from'sweetalert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Demand=function Demand(props){var match=props.match;var demandid=match.params.demandid;var _useState=useState({priority:false,responsible:false,scheduleddate:false}),_useState2=_slicedToArray(_useState,2),disabledfields=_useState2[0],setDisabledFields=_useState2[1];var _useState3=useState({requestId:0,applicationseries:'0001',clientID:5,contact:'',correlativeNumber:'',customerAddress:'',dateofissue:'',idCategory:0,idPriority:0,phone:'',reason:'',responsible:'',scheduledDate:'',adviser:'',requestDeatils:[],lineRequestDetail:'0',mark:'0',mediumRequestDetail:'0',model:'0',numberRequestDetail:1,place:'0',serviceRequestDetail:'0'}),_useState4=_slicedToArray(_useState3,2),demandModel=_useState4[0],setDemandModel=_useState4[1];var _useState5=useState({id:0,customerName:'',customerAddress:'',rucClient:'',active:true}),_useState6=_slicedToArray(_useState5,2),clientModel=_useState6[0],setClientModel=_useState6[1];var _useState7=useState({address:'',branch:'',idCompany:0,phone:'',ruc:'',socialReason:'',tradeName:''}),_useState8=_slicedToArray(_useState7,2),companyModel=_useState8[0],setCompanyModel=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),adivers=_useState10[0],setAdvisers=_useState10[1];var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),sessionUser=_useStateValue2[0].sessionUser,dispatch=_useStateValue2[1];useEffect(function(){checkRoleFields();if(demandid!=null){GetRequestsDocumentById(demandid).then(function(response){var data=response.data;setDemandModel(data);getClientById(data.clientID).then(function(response){var data=response.data;setClientModel(data);});});}else{GetCorrelative().then(function(response){setDemandModel({correlativeNumber:response.data});});}getCompanyById(1).then(function(response){setCompanyModel(response.data);});getAdvisers();},[demandid]);var checkRoleFields=function checkRoleFields(){if(sessionUser.user.userProfileId===2){setDisabledFields({priority:true,responsible:true,scheduleddate:true});}};var getAdvisers=function getAdvisers(){getEmployeeByType(2).then(function(response){setAdvisers(response.data);});};var saveDemand=function saveDemand(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setDemandModel(function(last){return _objectSpread(_objectSpread({},last),{},_defineProperty({},name,value));});};var saveClient=function saveClient(e){var _e$target2=e.target,name=_e$target2.name,value=_e$target2.value;setClientModel(function(last){return _objectSpread(_objectSpread({},last),{},_defineProperty({},name,value));});};var sendClient=function sendClient(){saveRequestDocument(demandModel).then(function(response){if(response.data){swal(\"Buen trabajo!\",\"La solicitud a sido guardada\",\"success\").then(function(){props.history.push('/listdemand');});}else{swal({title:\"Revise los campos\",text:\"Es necesario completar todos los campos de la solicitud\",icon:\"warning\",buttons:true,dangerMode:true});}});};var getLocalRuc=function getLocalRuc(){getRUC(clientModel.rucClient).then(function(response){console.log(response);if(response.response==null){swal(\"Información!\",\"El cliente no se encuentra registrado\",\"info\");}else{setClientModel(response.response);var now=new Date();var durationInMinutes=300;now.setMinutes(now.getMinutes()-durationInMinutes);setDemandModel(function(last){return _objectSpread(_objectSpread({},last),{},{idCategory:response.response.categoryId,clientID:response.response.id,dateofissue:now.toISOString().slice(0,16),idPriority:6});});}});};return/*#__PURE__*/_jsx(Container,{fullwidth:true,style:{marginTop:50},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,md:3,xs:4,children:/*#__PURE__*/_jsx(CardMedia,{style:{height:200,width:200},component:\"img\",alt:\"Biossay\",height:\"auto\",image:logoicon})}),/*#__PURE__*/_jsxs(Grid,{item:true,md:5,xs:8,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",style:{fontWeight:\"bold\",height:\"30%\"},children:companyModel.tradeName}),/*#__PURE__*/_jsx(Typography,{style:{height:\"30%\"},children:companyModel.address}),/*#__PURE__*/_jsxs(Typography,{style:{height:\"10%\"},children:[\"TELEFONO: \",companyModel.phone]}),/*#__PURE__*/_jsx(Typography,{style:{height:\"10%\"},children:\"CEL: 991463701 / 980658053\"}),/*#__PURE__*/_jsx(Typography,{style:{height:\"10%\"},children:\"EMAIL : gerencia@biossay.com.pe\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,md:4,xs:12,style:{borderStyle:\"solid\",textAlign:\"center\"},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",style:{height:\"33%\"},children:[\"RUC \",companyModel.ruc]}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",style:{height:\"33%\",fontWeight:\"bold\"},children:\"SOLICITUD DE SERVICIO\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",style:{height:\"33%\"},children:[\"0001-\",demandModel.correlativeNumber]})]}),/*#__PURE__*/_jsxs(Grid,{container:true,md:6,direction:\"row\",style:{marginTop:20},alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,md:3,xs:4,children:/*#__PURE__*/_jsx(Typography,{children:\" RUC \"})}),/*#__PURE__*/_jsx(Grid,{item:true,md:8,xs:8,direction:\"row\",children:/*#__PURE__*/_jsx(TextField,{type:\"number\",fullWidth:true,id:\"outlined-basic\",label:\"\",variant:\"outlined\",onBlur:getLocalRuc,onChange:saveClient,value:clientModel.rucClient,name:\"rucClient\"})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,md:6,direction:\"row\",style:{marginTop:20},alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,md:3,xs:4,children:/*#__PURE__*/_jsx(Typography,{children:\" F. EMISI\\xD3N \"})}),/*#__PURE__*/_jsx(Grid,{item:true,md:9,xs:8,direction:\"row\",children:/*#__PURE__*/_jsx(TextField,{type:\"datetime-local\",fullWidth:true,id:\"outlined-basic\",disabled:true,onChange:saveDemand,variant:\"outlined\",value:demandModel.dateofissue,name:\"dateofissue\"})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,md:6,direction:\"row\",style:{marginTop:20},alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,md:3,xs:4,children:/*#__PURE__*/_jsx(Typography,{children:\" CLIENTE \"})}),/*#__PURE__*/_jsx(Grid,{item:true,md:8,xs:8,direction:\"row\",children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"outlined-basic\",onChange:saveClient,variant:\"outlined\",value:clientModel.customerName,name:\"customerName\"})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,md:6,direction:\"row\",style:{marginTop:20},alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,md:3,xs:4,children:/*#__PURE__*/_jsx(Typography,{children:\" PRIORIDAD\"})}),/*#__PURE__*/_jsx(Grid,{item:true,md:9,xs:8,direction:\"row\",children:/*#__PURE__*/_jsx(FormControl,{fullWidth:true,variant:\"outlined\",children:/*#__PURE__*/_jsxs(Select,{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",value:demandModel.idPriority||6,fullWidth:true,disabled:disabledfields.priority,onChange:saveDemand,label:\"Age\",name:\"idPriority\",children:[/*#__PURE__*/_jsx(MenuItem,{value:0,children:/*#__PURE__*/_jsx(\"em\",{children:\"Ninguno\"})}),/*#__PURE__*/_jsx(MenuItem,{value:1,children:/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:\"#FF0000\",disabled:true})}),/*#__PURE__*/_jsx(MenuItem,{value:2,children:/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:\"#1DEE2D\",disabled:true})}),/*#__PURE__*/_jsx(MenuItem,{value:3,children:/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:\"#EEEA0D\",disabled:true})}),/*#__PURE__*/_jsx(MenuItem,{value:4,children:/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:\"#DDDDD8\",disabled:true})}),/*#__PURE__*/_jsx(MenuItem,{value:5,children:/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:\"#3F80CA\",disabled:true})}),/*#__PURE__*/_jsx(MenuItem,{value:6,children:/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:\"#FFFFFF\",disabled:true})})]})})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,md:6,direction:\"row\",style:{marginTop:20},alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,md:3,xs:4,children:/*#__PURE__*/_jsx(Typography,{children:\" DIRECCI\\xD3N \"})}),/*#__PURE__*/_jsx(Grid,{item:true,md:8,xs:8,direction:\"row\",children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"outlined-basic\",onChange:saveClient,label:\"\",variant:\"outlined\",name:\"customerAddress\",value:clientModel.customerAddress})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,md:6,direction:\"row\",style:{marginTop:20},alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,md:3,xs:4,children:/*#__PURE__*/_jsx(Typography,{children:\" ASESOR CIENT\\xCDFCO \"})}),/*#__PURE__*/_jsx(Grid,{item:true,md:9,xs:8,direction:\"row\",children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"outlined-basic\",name:\"responsible\",disabled:disabledfields.responsible,onChange:saveDemand,value:demandModel.responsible,label:\"\",variant:\"outlined\"})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,md:6,direction:\"row\",style:{marginTop:20},alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,md:3,xs:4,children:/*#__PURE__*/_jsx(Typography,{children:\" CATEGOR\\xCDA \"})}),/*#__PURE__*/_jsx(Grid,{item:true,md:8,xs:8,direction:\"row\",children:/*#__PURE__*/_jsx(FormControl,{fullWidth:true,variant:\"outlined\",children:/*#__PURE__*/_jsxs(Select,{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",fullWidth:true,label:\"Age\",name:\"idCategory\",value:demandModel.idCategory,onChange:saveDemand,disabled:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:/*#__PURE__*/_jsx(\"em\",{children:\"Seleccione\"})}),/*#__PURE__*/_jsx(MenuItem,{value:1,children:\"SIN CATEGORIA\"}),/*#__PURE__*/_jsx(MenuItem,{value:2,children:\"BRONZE\"}),/*#__PURE__*/_jsx(MenuItem,{value:3,children:\"SILVER\"}),/*#__PURE__*/_jsx(MenuItem,{value:4,children:\"GOLD\"}),/*#__PURE__*/_jsx(MenuItem,{value:5,children:\"PLATINUM\"}),/*#__PURE__*/_jsx(MenuItem,{value:6,children:\"DIAMOND\"})]})})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,md:6,direction:\"row\",style:{marginTop:20},alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,md:3,xs:4,children:/*#__PURE__*/_jsx(Typography,{children:\" F. PROGAMADA \"})}),/*#__PURE__*/_jsx(Grid,{item:true,md:9,xs:8,direction:\"row\",children:/*#__PURE__*/_jsx(TextField,{type:\"datetime-local\",fullWidth:true,id:\"outlined-basic\",onChange:saveDemand,disabled:disabledfields.scheduleddate,label:\"\",variant:\"outlined\",name:\"scheduledDate\",value:demandModel.scheduledDate})})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:150,width:'100%',marginTop:20,marginBottom:20,overflow:\"auto\"},children:/*#__PURE__*/_jsx(TableDemand,{demandDetailModel:demandModel,setDemandDetailModel:setDemandModel})}),/*#__PURE__*/_jsxs(Grid,{container:true,md:12,direction:\"row\",style:{marginTop:20},alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,md:3,xs:4,children:/*#__PURE__*/_jsx(Typography,{children:\" ASESOR COMERCIAL \"})}),/*#__PURE__*/_jsx(Grid,{item:true,md:8,xs:8,direction:\"row\",children:/*#__PURE__*/_jsx(FormControl,{fullWidth:true,variant:\"outlined\",children:/*#__PURE__*/_jsxs(Select,{fullWidth:true,name:\"adviser\",value:demandModel.adviser||\"0\",onChange:saveDemand,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"0\",children:/*#__PURE__*/_jsx(\"em\",{children:\"Seleccione un supervisor \"})}),adivers.map(function(n){return/*#__PURE__*/_jsxs(MenuItem,{value:n.id,children:[n.name,\" \"]},n.id);})]})})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,md:12,direction:\"row\",style:{marginTop:20},alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,md:3,xs:4,children:/*#__PURE__*/_jsx(Typography,{children:\" MOTIVO \"})}),/*#__PURE__*/_jsx(Grid,{item:true,md:8,xs:8,direction:\"row\",children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"outlined-basic\",label:\"\",onChange:saveDemand,variant:\"outlined\",name:\"reason\",value:demandModel.reason})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,md:12,direction:\"row\",style:{marginTop:20},alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,md:3,xs:4,children:/*#__PURE__*/_jsx(Typography,{children:\" CONTACTO \"})}),/*#__PURE__*/_jsx(Grid,{item:true,md:8,xs:8,direction:\"row\",children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"outlined-basic\",label:\"\",onChange:saveDemand,variant:\"outlined\",name:\"contact\",value:demandModel.contact})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,md:12,direction:\"row\",style:{marginTop:20,marginBottom:30},alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,md:3,xs:4,children:/*#__PURE__*/_jsx(Typography,{children:\" TEL\\xC9FONO \"})}),/*#__PURE__*/_jsx(Grid,{item:true,md:8,xs:8,direction:\"row\",children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"outlined-basic\",label:\"\",onChange:saveDemand,variant:\"outlined\",name:\"phone\",value:demandModel.phone})})]}),/*#__PURE__*/_jsx(Grid,{container:true,md:12,style:{marginTop:20,marginBottom:30,textAlign:\"right\"},children:/*#__PURE__*/_jsx(Button,{onClick:sendClient,color:\"primary\",style:{color:\"white\"},variant:\"contained\",children:\"Guardar\"})})]})});};export default withRouter(Demand);","map":{"version":3,"sources":["/Users/danielcr/Documents/GitHub/Biossay/GstFront/biossay-webapp/src/components/demand/Demand.js"],"names":["React","useState","useEffect","Container","Grid","CardMedia","Typography","TextField","Button","Select","FormControl","MenuItem","logoicon","TableDemand","getClientById","getRUC","getEmployeeByType","saveRequestDocument","GetRequestsDocumentById","GetCorrelative","getCompanyById","withRouter","useStateValue","swal","Demand","props","match","demandid","params","priority","responsible","scheduleddate","disabledfields","setDisabledFields","requestId","applicationseries","clientID","contact","correlativeNumber","customerAddress","dateofissue","idCategory","idPriority","phone","reason","scheduledDate","adviser","requestDeatils","lineRequestDetail","mark","mediumRequestDetail","model","numberRequestDetail","place","serviceRequestDetail","demandModel","setDemandModel","id","customerName","rucClient","active","clientModel","setClientModel","address","branch","idCompany","ruc","socialReason","tradeName","companyModel","setCompanyModel","adivers","setAdvisers","sessionUser","dispatch","checkRoleFields","then","response","data","getAdvisers","user","userProfileId","saveDemand","e","target","name","value","last","saveClient","sendClient","history","push","title","text","icon","buttons","dangerMode","getLocalRuc","console","log","now","Date","durationInMinutes","setMinutes","getMinutes","categoryId","toISOString","slice","marginTop","height","width","fontWeight","borderStyle","textAlign","marginBottom","overflow","map","n","color"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect} from \"react\"; \nimport { Container, Grid ,CardMedia, Typography,TextField, Button,Select,FormControl,MenuItem} from \"@material-ui/core\";\nimport logoicon from '../logoicon.jpeg';\nimport TableDemand from './components/tableDemand';\nimport {  getClientById , getRUC} from \"../../services/api/ClientService\";\nimport { getEmployeeByType } from \"../../services/api/LoginService\";\nimport { saveRequestDocument , GetRequestsDocumentById,GetCorrelative} from \"../../services/api/Demandservice\";\nimport { getCompanyById} from \"../../services/api/CompanyService\";\nimport { withRouter } from 'react-router-dom'; \nimport { useStateValue } from '../../context/store'\nimport swal from 'sweetalert';\n\n\nconst Demand = (props) =>{\n    const { match} = props;\n    const demandid = match.params.demandid;\n\n    \n\n    const [ disabledfields , setDisabledFields] = useState({\n        priority: false,\n        responsible : false,\n        scheduleddate : false\n    });\n\n    const [ demandModel , setDemandModel ] = useState({\n        requestId : 0,\n        applicationseries : '0001',\n        clientID : 5,\n        contact : '',\n        correlativeNumber : '',\n        customerAddress : '',\n        dateofissue : '',\n        idCategory : 0,\n        idPriority : 0,\n        phone : '',\n        reason: '',\n        responsible: '',\n        scheduledDate: '',\n        adviser :'',\n        requestDeatils : [],\n        lineRequestDetail:'0',\n        mark:'0',\n        mediumRequestDetail : '0',\n        model:'0',\n        numberRequestDetail:1,\n        place:'0',\n        serviceRequestDetail : '0'\n    });\n\n    const [ clientModel , setClientModel ] = useState({\n        id : 0,\n        customerName : '',\n        customerAddress: '',\n        rucClient : '',\n        active : true\n    });\n\n    const [ companyModel, setCompanyModel] = useState({\n        address : '',\n        branch : '',\n        idCompany : 0,\n        phone : '',\n        ruc:'',\n        socialReason : '',\n        tradeName : ''\n    });\n\n    const [ adivers, setAdvisers ] = useState([]);\n\n    const [{ sessionUser }, dispatch] = useStateValue();\n\n    useEffect(() => {\n        checkRoleFields();\n        if (demandid != null) {\n            GetRequestsDocumentById(demandid).then(response =>{\n                \n                const { data } = response;\n                setDemandModel(data);\n                \n\n                getClientById(data.clientID).then(response =>{\n                const { data } = response; \n                setClientModel(data);\n                });\n            })\n        }else{\n            GetCorrelative().then(response =>{\n                setDemandModel({ \n                  correlativeNumber : response.data\n                })\n            });\n        }\n        getCompanyById(1).then(response =>{ \n            setCompanyModel(response.data);\n        }) \n\n        getAdvisers();\n    }, [demandid])\n\n\n    const checkRoleFields = ()=>{\n        if(sessionUser.user.userProfileId === 2){\n            setDisabledFields({\n                priority : true,\n                responsible : true,\n                scheduleddate : true\n            })\n        }\n    \n    }\n\n    const getAdvisers = ()=>{\n        getEmployeeByType(2).then(response => {\n            setAdvisers(response.data);\n        });\n    }\n\n    const saveDemand = (e) =>{\n        const { name, value} = e.target;\n        setDemandModel(last => ({\n            ...last,\n            [name]: value\n        }))\n    }\n\n    const saveClient = (e) =>{\n        const { name, value} = e.target;\n        setClientModel(last => ({\n            ...last,\n            [name]: value\n        }))\n    }\n\n    const sendClient = () => {\n  \n        saveRequestDocument(demandModel).then(response =>{\n              \n            if(response.data){\n              swal(\"Buen trabajo!\", \"La solicitud a sido guardada\", \"success\")\n              .then(() => {\n                props.history.push('/listdemand');\n              });\n            }else{\n              swal({\n                  title: \"Revise los campos\",\n                  text: \"Es necesario completar todos los campos de la solicitud\",\n                  icon: \"warning\",\n                  buttons: true,\n                  dangerMode: true,\n                })\n            }\n\n         });\n \n\n    }\n\n    const getLocalRuc = ()=>{\n        getRUC(clientModel.rucClient).then(response =>{\n             console.log(response);\n             if(response.response == null){\n                swal(\"Información!\", \"El cliente no se encuentra registrado\", \"info\");\n             }else{\n                setClientModel(response.response); \n                var now = new Date();\n                var durationInMinutes = 300;\n                now.setMinutes(now.getMinutes() - durationInMinutes);\n\n                setDemandModel((last) =>({\n                    ...last,\n                    idCategory : response.response.categoryId,\n                    clientID : response.response.id,\n                    dateofissue : now.toISOString().slice(0,16),\n                    idPriority : 6\n                }))\n             } \n        });\n    }\n \n\n    return(\n        <Container fullwidth style={{marginTop:50}} >\n            <Grid container spacing={2}>\n                <Grid item  md={3} xs={4} >\n                <CardMedia\n                    style={{height: 200, width: 200}}\n                    component=\"img\"\n                    alt=\"Biossay\"\n                    height=\"auto\"\n                    image={logoicon}\n                />\n                </Grid>\n                <Grid item  md={5} xs={8}>\n                    <Typography variant=\"h4\" style={{ fontWeight:\"bold\" ,height:\"30%\"}}>{companyModel.tradeName}</Typography>\n                    <Typography style={{ height:\"30%\"}}>{companyModel.address}</Typography>\n                    <Typography style={{ height:\"10%\"}}>TELEFONO: {companyModel.phone}</Typography>\n                    <Typography style={{ height:\"10%\"}}>CEL: 991463701 / 980658053</Typography>\n                    <Typography style={{ height:\"10%\"}}>EMAIL : gerencia@biossay.com.pe</Typography>\n                </Grid>\n                <Grid item  md={4} xs={12} style= {{ borderStyle : \"solid\",textAlign:\"center\"}} >\n                    <Typography  variant=\"h5\"  style={{ height:\"33%\"}}>RUC {companyModel.ruc}</Typography>\n                    <Typography  variant=\"h5\"  style={{ height:\"33%\" ,fontWeight:\"bold\" }}>SOLICITUD DE SERVICIO</Typography>\n                    <Typography  variant=\"h5\"  style={{ height:\"33%\"}}>0001-{demandModel.correlativeNumber}</Typography>\n                </Grid>\n\n                <Grid container md={6} direction=\"row\" style={{marginTop:20}} alignItems=\"center\">\n                    <Grid item md={3} xs={4}> \n                        <Typography> RUC </Typography> \n                    </Grid>\n                    <Grid item md={8} xs={8} direction=\"row\">  \n                        <TextField type=\"number\" fullWidth id=\"outlined-basic\" label=\"\" variant=\"outlined\" onBlur={getLocalRuc}   onChange={saveClient} value={clientModel.rucClient} name=\"rucClient\" />\n                    </Grid>\n                </Grid>\n                <Grid container md={6} direction=\"row\"style={{marginTop:20}}  alignItems=\"center\">\n                    <Grid item md={3} xs={4}> \n                        <Typography> F. EMISIÓN </Typography> \n                    </Grid>\n                    <Grid item md={9} xs={8} direction=\"row\">  \n                        <TextField type=\"datetime-local\" fullWidth id=\"outlined-basic\" disabled={true} onChange={saveDemand} variant=\"outlined\" value={demandModel.dateofissue} name=\"dateofissue\" />\n                    </Grid>\n                </Grid>\n                <Grid container md={6} direction=\"row\" style={{marginTop:20}} alignItems=\"center\">\n                    <Grid item md={3} xs={4}> \n                        <Typography> CLIENTE </Typography> \n                    </Grid>\n                    <Grid item md={8} xs={8} direction=\"row\">  \n                        <TextField fullWidth id=\"outlined-basic\"  onChange={saveClient} variant=\"outlined\" value={clientModel.customerName} name=\"customerName\"  />\n                    </Grid>\n                </Grid>\n                <Grid container md={6} direction=\"row\" style={{marginTop:20}}  alignItems=\"center\">\n                    <Grid item md={3} xs={4}> \n                        <Typography> PRIORIDAD</Typography> \n                    </Grid>\n                    <Grid item md={9} xs={8} direction=\"row\">  \n                    <FormControl fullWidth variant=\"outlined\"  > \n                        <Select\n                        labelId=\"demo-simple-select-outlined-label\"\n                        id=\"demo-simple-select-outlined\"\n                        value={demandModel.idPriority || 6} \n                        fullWidth\n                        disabled={disabledfields.priority}\n                        onChange={saveDemand}\n                        label=\"Age\"\n                        name=\"idPriority\"\n                        >\n                        <MenuItem value={0}>\n                            <em>Ninguno</em>\n                        </MenuItem>\n                        <MenuItem value={1}><input type=\"color\" value=\"#FF0000\" disabled /></MenuItem>\n                        <MenuItem value={2}><input type=\"color\" value=\"#1DEE2D\" disabled /></MenuItem>\n                        <MenuItem value={3}><input type=\"color\" value=\"#EEEA0D\" disabled /></MenuItem>\n                        <MenuItem value={4}><input type=\"color\" value=\"#DDDDD8\" disabled /></MenuItem>\n                        <MenuItem value={5}><input type=\"color\" value=\"#3F80CA\" disabled /></MenuItem>\n                        <MenuItem value={6}><input type=\"color\" value=\"#FFFFFF\" disabled /></MenuItem>\n                        </Select>\n                    \n                    </FormControl>\n                    </Grid>\n                </Grid>\n                <Grid container md={6} direction=\"row\"  style={{marginTop:20}} alignItems=\"center\">\n                    <Grid item md={3} xs={4}> \n                        <Typography> DIRECCIÓN </Typography> \n                    </Grid>\n                    <Grid item md={8} xs={8} direction=\"row\">  \n                        <TextField fullWidth id=\"outlined-basic\"  onChange={saveClient} label=\"\" variant=\"outlined\" name=\"customerAddress\" value={clientModel.customerAddress} />\n                    </Grid>\n                </Grid>\n                <Grid container md={6} direction=\"row\" style={{marginTop:20}} alignItems=\"center\">\n                    <Grid item md={3} xs={4}> \n                        <Typography> ASESOR CIENTÍFCO </Typography> \n                    </Grid>\n                    <Grid item md={9} xs={8} direction=\"row\">  \n                        <TextField fullWidth id=\"outlined-basic\" name=\"responsible\" disabled={disabledfields.responsible} onChange={saveDemand} value={demandModel.responsible} label=\"\" variant=\"outlined\" />\n                    </Grid>\n                </Grid>\n                <Grid container md={6} direction=\"row\" style={{marginTop:20}} alignItems=\"center\">\n                    <Grid item md={3} xs={4}> \n                        <Typography> CATEGORÍA </Typography> \n                    </Grid>\n                    <Grid item md={8} xs={8} direction=\"row\">  \n                    <FormControl fullWidth variant=\"outlined\"  > \n                        <Select\n                        labelId=\"demo-simple-select-outlined-label\"\n                        id=\"demo-simple-select-outlined\" \n                        fullWidth\n                        label=\"Age\"\n                        name=\"idCategory\"\n                        value={demandModel.idCategory}\n                        onChange={saveDemand}\n                        disabled={true}\n                        >\n                        <MenuItem value=\"\">\n                            <em>Seleccione</em>\n                        </MenuItem>\n                        <MenuItem value={1}>SIN CATEGORIA</MenuItem>\n                        <MenuItem value={2}>BRONZE</MenuItem>\n                        <MenuItem value={3}>SILVER</MenuItem>\n                        <MenuItem value={4}>GOLD</MenuItem>\n                        <MenuItem value={5}>PLATINUM</MenuItem>\n                        <MenuItem value={6}>DIAMOND</MenuItem>\n                        </Select>\n                    \n                    </FormControl>\n                    </Grid>\n                </Grid>\n                <Grid container md={6} direction=\"row\" style={{marginTop:20}} alignItems=\"center\">\n                    <Grid item md={3} xs={4}> \n                        <Typography> F. PROGAMADA </Typography> \n                    </Grid>\n                    <Grid item md={9} xs={8}  direction=\"row\">  \n                        <TextField type=\"datetime-local\" fullWidth id=\"outlined-basic\" onChange={saveDemand} disabled={disabledfields.scheduleddate} label=\"\" variant=\"outlined\" name=\"scheduledDate\" value={demandModel.scheduledDate} />\n                    </Grid>\n                </Grid> \n                \n                <div style={{ height: 150, width: '100%',marginTop:20,marginBottom:20,overflow: \"auto\" }}>\n                <TableDemand demandDetailModel={demandModel} setDemandDetailModel={setDemandModel}/> \n                   \n\n                </div>\n                <Grid container md={12} direction=\"row\" style={{marginTop:20}} alignItems=\"center\">\n                    <Grid item md={3} xs={4}> \n                        <Typography> ASESOR COMERCIAL </Typography> \n                    </Grid>\n                    \n                    <Grid item md={8} xs={8} direction=\"row\">  \n                    <FormControl fullWidth variant=\"outlined\"  > \n                        <Select\n                        fullWidth\n                        name=\"adviser\"\n                        value={demandModel.adviser || \"0\"}\n                        onChange={saveDemand} >\n                        <MenuItem value=\"0\">\n                            <em>Seleccione un supervisor </em>\n                        </MenuItem>\n                        {(adivers.map((n) => \n                          <MenuItem key={n.id} value={n.id}>{n.name} </MenuItem>\n                        ))}\n                        </Select>\n                    \n                    </FormControl>\n                    </Grid>\n                </Grid>\n                <Grid container md={12} direction=\"row\" style={{marginTop:20}} alignItems=\"center\">\n                    <Grid item md={3} xs={4}> \n                        <Typography> MOTIVO </Typography> \n                    </Grid>\n                    <Grid item md={8} xs={8} direction=\"row\">  \n                        <TextField fullWidth id=\"outlined-basic\" label=\"\" onChange={saveDemand} variant=\"outlined\" name=\"reason\" value={demandModel.reason} />\n                    </Grid>\n                </Grid>\n                <Grid container md={12} direction=\"row\" style={{marginTop:20}} alignItems=\"center\">\n                    <Grid item md={3} xs={4}> \n                        <Typography> CONTACTO </Typography> \n                    </Grid>\n                    <Grid item md={8} xs={8} direction=\"row\">  \n                        <TextField fullWidth id=\"outlined-basic\" label=\"\" onChange={saveDemand} variant=\"outlined\" name=\"contact\" value={demandModel.contact} />\n                    </Grid>\n                </Grid>\n                <Grid container md={12} direction=\"row\" style={{marginTop:20,marginBottom:30}} alignItems=\"center\">\n                    <Grid item md={3} xs={4}> \n                        <Typography> TELÉFONO </Typography> \n                    </Grid>\n                    <Grid item md={8} xs={8} direction=\"row\">  \n                        <TextField fullWidth id=\"outlined-basic\" label=\"\" onChange={saveDemand} variant=\"outlined\" name=\"phone\" value={demandModel.phone} />\n                    </Grid>\n                    \n                </Grid>\n\n                <Grid container md={12}  style={{marginTop:20,marginBottom:30,textAlign:\"right\"}} >\n                    <Button onClick={sendClient} color=\"primary\" style={{ color : \"white\"}} variant=\"contained\">Guardar</Button>\n                </Grid>\n            </Grid>\n        </Container>\n\n    );\n}\n\nexport default withRouter(Demand);"]},"metadata":{},"sourceType":"module"}